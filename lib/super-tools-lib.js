!function(e,t){e&&!e.getElementById("livereloadscript")&&((t=e.createElement("script")).async=1,t.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t))}(self.document),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).superToolsLib=t()}(this,(function(){"use strict";const e={initialToCapitali:e=>{const t=new RegExp("[A-Za-z]+"),o=e.substr(0,1);if(t.test(o))return`${o.toUpperCase()}${e.substr(1)}`;{const t=e.substr(-1);return`${e.substr(0,e.length-1)}${t.toUpperCase()}`}},repeat:(e,t)=>{let o="";for(;t;)t%2==1&&(o+=e),t>1&&(e+=e),t>>=1;return o},trim:e=>e.replace(/^\s+(.*?)\s+$/g,"$1")},t={guid:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),getFileBase64:(e,t)=>{if(!e)throw new Error('Error! no param "file"(getFileBase64()).');const o=new FileReader;o.onload=function(e){const o=e.target.result;t&&t(o)},o.onerror=function(){alert("Read file fail.")},o.readAsDataURL(e)},isAndroidMobileDevice:()=>/android/i.test(navigator.userAgent.toLowerCase()),isAppleMobileDevice:()=>/iphone|ipod|ipad|Macintosh/i.test(navigator.userAgent.toLowerCase()),throttle:function(e,t){let o=null;return function(){o||(o=setTimeout((()=>{e(),o=null}),t))}},debounce:function(e,t){let o=null;return function(){null!==o&&clearTimeout(o),o=setTimeout((()=>{e(),o=null}),t)}},fileDownload:function(e){const t=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,o=navigator.userAgent.toLowerCase().indexOf("safari")>-1;if(t||o){const t=document.createElement("a");if(t.href=e,void 0!==t.download){const o=e.substring(e.lastIndexOf("/")+1,e.length);t.download=o}if(document.createEvent){const e=document.createEvent("MouseEvents");return e.initEvent("click",!0,!0),t.dispatchEvent(e),!0}}return-1===e.indexOf("?")&&(e+="?download"),window.open(e,"_self"),!0},fuzzyQuery:function(e,t,o){const n=[];for(let i=0;i<e.length;i++)null!==e[i][t].match(o)&&n.push(e[i]);return n},getUrlParam:function(){let e=document.location.toString().split("?");const t=Object.create(null);return e.length>1&&(e=e[1].split("&"),e.forEach((e=>{e=e.split("="),t[e[0]]=e[1]}))),t},getCookie:function(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):""},colorHex:e=>{const t=e,o=e.split(",");let n="#";for(let e=0;e<o.length;e++){let t=Number(o[e]).toString(16);t.length<2&&(t="0"+t),n+=t}return 7!==n.length&&(n=t),n},viewportToPixels:e=>{const t=e.match(/([0-9\.]+)(vh|vw)/),o=Number(t[1]);let n=0;return n="vw"===t[2]?window.innerWidth:window.innerHeight,n*(o/100)},noRefdelUrlParam:e=>{const t=window.location.href;if(-1==t.indexOf(e))return t;const o=t.split("?"),n=o[0],i=o[1].split("&");let r=-1;for(let t=0;t<i.length;t++){if(i[t].split("=")[0]==e){r=t;break}}return-1==r?t:(i.splice(r,1),window.history.pushState({},"0",n+"?"+i.join("&")),n+"?"+i.join("&"))}},o={toFullScreen:()=>{const e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(t)t.call(e);else if(void 0!==window.ActiveXObject){const e=new window.ActiveXObject("WScript.Shell");null!==e&&e.SendKeys("{F11}")}else alert("浏览器不支持全屏")},exitFullscreen:()=>{const e=parent.document,t=e.cancelFullScreen||e.webkitCancelFullScreen||e.mozCancelFullScreen||e.exitFullScreen;if(t)t.call(e);else if(void 0!==window.ActiveXObject){const e=new window.ActiveXObject("WScript.Shell");null!==e&&e.SendKeys("{F11}")}else alert("切换失败,可尝试Esc退出")},LocalStorage:{get:(e,t)=>(JSON.parse(localStorage.getItem(e))||{})[t]||"",set(e,t,o){if(!t)return;const n=JSON.parse(localStorage.getItem(e))||{};n[t]=o,localStorage.setItem(e,JSON.stringify(n))},remove(e,t){const o=JSON.parse(localStorage.getItem(e))||{};o[t]&&delete o[t],localStorage.setItem(e,JSON.stringify(o))},clear(){localStorage.clear()}},getPosition:(e=1e4,t=6e4)=>new Promise(((o,n)=>{if(!navigator&&!navigator.geolocation)return n(new Error("geolocation api not supported"));navigator.geolocation.getCurrentPosition((e=>{const t={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy};o(t)}),(()=>n("出错了")),{timeout:e,maximumAge:t})})),winCopy:e=>{["contextmenu","selectstart","copy"].forEach((function(t){document.addEventListener(t,(function(t){return t.returnValue=e}))}))},print:(e,t)=>{const o=document.createElement("IFRAME");let n=null;o.setAttribute("style","position:absolute;width:100%;height:100%;left:0;top:0;"),document.body.appendChild(o),n=o.contentWindow.document;const i=new Image;i.src=t,n.body.appendChild(i),n.close(),o.contentWindow.focus(),o.contentWindow.print(),navigator.userAgent.indexOf("MSIE")>0&&document.body.removeChild(o)},setVibration:()=>{window.navigator.vibrate([100,30,100,30,100,200,200,30,200,30,200,200,100,30,100,30,100])},copy:e=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",document.body.appendChild(t);const o=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),o&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(o))}},n={performanceAnalysis:()=>{const e=window.performance;setTimeout((function(){const t=e.timing;console.log("DNS查询耗时 ："+(t.domainLookupEnd-t.domainLookupStart).toFixed(0)),console.log("TCP链接耗时 ："+(t.connectEnd-t.connectStart).toFixed(0)),console.log("request请求耗时 ："+(t.responseEnd-t.responseStart).toFixed(0)),console.log("解析dom树耗时 ："+(t.domComplete-t.domInteractive).toFixed(0)),console.log("白屏时间 ："+(t.responseStart-t.navigationStart).toFixed(0)),console.log("domready时间 ："+(t.domContentLoadedEventEnd-t.navigationStart).toFixed(0)),console.log("onload时间 ："+(t.loadEventEnd-t.navigationStart).toFixed(0)),t==e.memory&&console.log("js内存使用占比 ："+(t.usedJSHeapSize/t.totalJSHeapSize*100).toFixed(2)+"%")}))},getPerformanceTiming:()=>{const e=window.performance;if(!e)return void console.log("你的浏览器不支持 performance 接口");const t=e.timing,o={};return o.loadPage=t.loadEventEnd-t.navigationStart,o.domReady=t.domComplete-t.responseEnd,o.redirect=t.redirectEnd-t.redirectStart,o.lookupDomain=t.domainLookupEnd-t.domainLookupStart,o.ttfb=t.responseStart-t.navigationStart,o.request=t.responseEnd-t.requestStart,o.loadEvent=t.loadEventEnd-t.loadEventStart,o.appcache=t.domainLookupStart-t.fetchStart,o.unloadEvent=t.unloadEventEnd-t.unloadEventStart,o.connect=t.connectEnd-t.connectStart,o}},i={getDistance:(e,t,o,n)=>{const i=Math.PI,r=i/180*n,l=i/180*t,a=i/180*o,s=i/180*e,c=6378.137*Math.acos(Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos(l-r));return parseInt(`${1e3*c}`,10)},calcDistance:(e,t,o,n)=>{const i=e*Math.PI/180,r=o*Math.PI/180,l=i-r,a=t*Math.PI/180-n*Math.PI/180;let s=2*Math.asin(Math.sqrt(Math.pow(Math.sin(l/2),2)+Math.cos(i)*Math.cos(r)*Math.pow(Math.sin(a/2),2)));return s*=6378.137,s=Math.round(1e4*s)/1e4,s},lonLatToMercator:e=>{const t={x:0,y:0};return t.x=20037508.34*e.lon/180,t.y=Math.log(Math.tan((90+e.lat)*Math.PI/360))/(Math.PI/180),t.y=20037508.34*t.y/180,t},mercatorToLonlat:e=>{const t={lon:0,lat:0};return t.lon=e.x/20037508.34*180,t.lat=e.y/20037508.34*180,t.lat=180/Math.PI*(2*Math.atan(Math.exp(t.lat*Math.PI/180))-Math.PI/2),t}},r={mobile:/^(((13[0-9]{1})|(14[5,7,9]{1})|(15[0-3,5-9]{1})|(166)|(17[0-3,5-8]{1})|(18[0-9]{1})|(19[8,9]{1}))+\d{8})$|(^[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?$)/,website:/^(?=^.{3,255}$)(http(s)?:\/\/)?(www\.)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:\d+)*(\/\w+\.\w+)*$/,nickname:/^[\u4E00-\u9FA5a-zA-Z0-9]{2,12}$/,verify_code:/^\d{6}$/,verify_pwd:/^([a-zA-Z0-9_*@#]{6,16})$/,email:/^[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?$/,character:/^.{0,254}$/,intNumber:/^[1-9]\d*$/,cP:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,cPattern:/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/,number:/^[0-9]+.{0,1}[0-9]{0,30}$/,numeric_letters:/^[0-9a-zA-Z]{0,40}$/g,chinese_numeric_letters:/^[a-zA-Z0-9\u4e00-\u9fa5]+$/,strong_password:/^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/};const l={validate:function(e,t){return new RegExp(r[`${e}`]).test(t)}},a={getOffset:function(e){let t=e.offsetLeft,o=e.offsetTop,n=e.offsetParent;for(;n&&"body"!==n.nodeName.toLowerCase();)t+=n.offsetLeft+n.clientLeft,o+=n.offsetTop+n.clientTop,n=n.offsetParent;return{left:t,top:o}},shaking:({ele:e,attr:t,cb:o,rate:n=20,time:i=50})=>{const r=parseInt(function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle(e)[t]}(e,t)),l=[];let a=null,s=0;for(let e=n;e>0;e-=2)l.push(e,-e);l.push(0),clearInterval(a),a=setInterval((function(){e.style[t]=r+l[s]+"px",s++,s===l.length&&(clearInterval(a),o&&o())}),i)}},s={arrayUnique:e=>Array.from(new Set(e)),arrayNonRepeatfy:e=>{const t=new Map,o=[];for(let n=0;n<e.length;n++)t.has(e[n])?t.set(e[n],!0):(t.set(e[n],!1),o.push(e[n]));return o},aLineUnique:e=>[...new Set(e)]},c={isBase64:e=>/data:image\/.+;base64,/.test(e),isArray:e=>Array.isArray(e),isString:e=>"string"==typeof e,isFunction:e=>!(!e||"function"!=typeof e),isObject:e=>"[object Object]"===Object.prototype.toString.call(e),isNumber:e=>!isNaN(e)&&"number"==typeof e,isWeiXin:()=>-1!=navigator.userAgent.toLowerCase().indexOf("micromessenger")},{isObject:d}=c,u=e=>{if(!d(e))return e;let t;if(Array.isArray(e))return t=[],e.forEach((e=>{t.push(u(e))})),t;t={};for(const o in e){const n=e[o];d(n)?t[o]=u(n):t[o]=n}return t},m={repeat:e=>{Object.values(e).length!==new Set(Object.values(e)).size?console.log("重复"):console.log("no")},cloneDeep:u},h={downBlob:(e,t)=>{const o=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.style.display="none",n.href=o,n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},p={vConsole:()=>{const e=document.createElement("div");e.style.cssText=" background: #07c160;position: fixed; left: 0;top: 85%;font-size: 1.07692308em;border-radius: 0.30769231em;box-shadow: 0 0 0.61538462em rgb(0 0 0 / 40%);padding: 0.61538462em 1.23076923em;color: #fff",e.innerHTML="vConsole",document.body.appendChild(e);const o=document.createElement("div");o.id="vc_mask",o.style.cssText="position: fixed;top: 0;left: 0;right: 0;bottom: 0;background: rgba(0, 0, 0, 0.6);z-index:1";const n=document.createElement("div");n.id="vc_panel",n.style.cssText=" font-size: 14px; max-height: 85vh; position: fixed;min-height: 85vh;left: 0;right: 0; bottom: 0;z-index: 10002; background-color: #191919;-webkit-transition: -webkit-transform 0.3s;transition: -webkit-transform 0.3s; transition: transform 0.3s; transition: transform 0.3s, -webkit-transform 0.3s;";const i=document.createElement("div");i.style.cssText="border-bottom: 1px solid rgba(255,255,255,0.05);overflow-x: auto;height: 3em;width: auto;white-space: nowrap;color: #fff; line-height: 3em; padding: 0 1.15384615em;",i.innerHTML="log",n.appendChild(i);const r=t.viewportToPixels("85vh")-84,l=document.createElement("ul");l.style.cssText=`padding-bottom: 2em; width: 100%; height: ${r}px; overflow-y: auto; padding-bo`,n.appendChild(l);const a=document.createElement("div");a.style.cssText="justify-content: space-between;align-items: center; background-color: #191919; height: 3em; border-top: 1px solid rgba(255,255,255,0.05);line-height: 3em;position: absolute;left: 0;right: 0;bottom: 0; display: flex; -webkit-box-orient: horizontal;-webkit-box-direction: normal; -webkit-flex-direction: row;-moz-box-orient: horizontal;-moz-box-direction: normal; -ms-flex-direction: row;flex-direction: row;";const s=document.createElement("div");s.style.cssText="color: #fff; text-decoration: none;width: 50%;-webkit-box-flex: 1;-webkit-flex: 1;-moz-box-flex: 1;-ms-flex: 1;flex: 1;text-align: center;position: relative;",s.innerText="Clear";const c=document.createElement("div");c.style.cssText="color: #fff; text-decoration: none;width: 50%;-webkit-box-flex: 1;-webkit-flex: 1;-moz-box-flex: 1;-ms-flex: 1;flex: 1;text-align: center;position: relative;",c.innerText="Hide";const d=document.createElement("div");d.style.cssText="width: 1px; background: rgb(97 94 94);height: 2em;",a.appendChild(s),a.appendChild(d),a.appendChild(c),n.appendChild(a);const u=()=>{const e=document.getElementById("vc_panel"),t=document.getElementById("vc_mask");document.body.removeChild(e),document.body.removeChild(t)},m=t=>{let o=t.touches[0].clientX-e.scrollWidth/2,n=t.touches[0].clientY-e.scrollHeight/2;const i=window.innerWidth-e.scrollWidth,r=window.innerHeight-e.scrollHeight;o<0&&(o=0),n<0&&(n=0),o>i&&(o=i),n>r&&(n=r),e.style.left=o+"px",e.style.top=n+"px"},h=()=>{window.removeEventListener("touchmove",m),window.removeEventListener("touchend",h)};e.onclick=()=>{document.body.appendChild(n),document.body.appendChild(o)},e.ontouchstart=()=>{window.removeEventListener("touchmove",m),window.addEventListener("touchmove",m),window.addEventListener("touchend",h)},o.onclick=()=>{u()},c.onclick=()=>{u()},s.onclick=()=>{l.innerHTML=""};const p=console.log;window.console.log=function(...e){p(...e);const t=document.createElement("li");t.style.cssText="margin: 0;padding: 0.46153846em 0.61538462em;overflow: hidden;line-height: 1.3;border-bottom: 1px solid rgba(255,255,255,0.05);word-break: break-word;color: #fff";let o="";e.forEach((e=>{p(Object.prototype.toString.call(e)),o+=JSON.stringify(e,null,4)})),t.innerText=`${o}`,l.appendChild(t)}}};class f{constructor(e){const{url:t,reconnectCount:o,heartTime:n}=e;this.ws=null,this.url=t,this.sendTimer=null,this.heartTimer=null,this.reconnectCount=o||3e3,this.heartTime=n||5e3}createWebSocket(e,t){this.ws=new WebSocket(this.url),e=JSON.stringify(e),this.ws.onopen=()=>{this.sendTimer=setInterval((()=>{this.ws.send(e)}),1e3),this.heartbeat(e,t),console.log("ws连接成功!"+(new Date).toLocaleString())},this.ws.onclose=e=>{console.log("关闭ws",e),this.ws.close()},this.ws.onmessage=o=>{this.heartbeat(e,t);const n=JSON.parse(o.data);t&&"function"==typeof t&&t(n)},this.ws.onerror=o=>{console.log("error:"+o),this.heartbeat(e,t)}}heartbeat(e,t){clearInterval(this.heartTimer),this.heartTimer=setInterval((()=>{0!==this.reconnectCount?(this.ws.close(),clearInterval(this.sendTimer),this.createWebSocket(e,t),--this.reconnectCount):clearInterval(this.heartTimer)}),this.heartTime)}}const g={socket:({url:e})=>new f({url:e})},w={orient:()=>{console.log("orient"),window.addEventListener("resize",(function(){"portrait"===(window.innerWidth>window.innerHeight?"landscape":"portrait")?console.log("竖屏"):console.log("横屏")}),!1)}};return{version:"1.0.8",...l,...e,...t,...o,...n,...i,...a,...s,...m,...c,...h,...g,...p,...w}}));
